<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<script>
    // 题目：红灯三秒亮一次，绿灯一秒亮一次，黄灯2秒亮一次；如何让三个灯不断交替重复亮灯？（用 Promise 实现）
    function red() {
        console.log('red');
    }

    function green() {
        console.log('green');
    }

    function yellow() {
        console.log('yellow');
    }

     function run() {
        let  id = setTimeout(() => {
             red()
             setTimeout(() => {
                 green()
                 setTimeout(() => {
                     yellow()
                     run()
                 },1)
             }, 2)
         }, 3)
     }
     run()

    let getRedPromise = function () {
        return new Promise((resolve,reject)=>{
            setTimeout(()=>{
                red()
                resolve({aa:11},11)
            },3000)
        })
    }

    let getGreenPromise = function () {
        return new Promise((resolve,reject)=>{
            setTimeout(()=>{
                green()
                resolve()
            },1000)
        })
    }

    let getYellowPromise = function () {
        return new Promise((resolve,reject)=>{
            setTimeout(()=>{
                yellow()
                resolve()
            },2000)
        })
    }

    function runPromise (){
        getRedPromise().then(()=>{
            return getGreenPromise()
        }).then(()=>{
            return getYellowPromise()
        }).then(()=>{
            runPromise()
        })
    }
//    runPromise()


</script>
<body>

</body>
</html>